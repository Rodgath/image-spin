/**
 * Judo Spin
 * @name        judo-spin
 * @description 360Â° degrees image spinner using JavaScript.
 * @link        https://github.com/Rodgath/judo-spin
 * @author      Rodgath, https://Rodgath.com
 * @version     v1.0.0
 * @created     July 22, 2023
 * @updated     August 04, 2023
 * @copyright   Copyright (C) 2023-2023, Rodgath
 * @license     MIT
 * @licenseMIT  https://github.com/Rodgath/judo-spin/blob/main/LICENSE
 * @demoExample https://rodgath.github.io/judo-spin/demo/
 */
"use strict";function judoSpin(e,t){t||(l=e.dataset.judoSpin)&&(t=JSON.parse(l));var n,o,l,r=function(e){e=parseInt(e,10);return isNaN(e)?1:Math.abs(e)}((t=Object.assign({},{currImg:1,images:[],enableDragHangle:!1},t)).currImage)-1,a=e instanceof HTMLElement||e instanceof Node?e:document.querySelector(e),i=function(){var e;e=(t.hasOwnProperty("images")&&Array.isArray(t.images)&&0<t.images.length&&t.images.forEach(function(e){var t=document.createElement("img");t.src=e.src,t.alt=e.title,a.appendChild(t)}),a.querySelectorAll("img"));return e}().length,s=360/i,c=0<r?r*s:0,d=!1,u=document.createElement("div");(o=u).className="judo-spin-overlay",o.style.position="absolute",o.style.width="100%",o.style.height="100%",o.style.top="0",o.style.left="0",o.style.zIndex="1",a.appendChild(o),o.addEventListener("mouseover",function(){return o.style.cursor="e-resize"}),o.addEventListener("mouseout",function(){return o.style.cursor="auto"}),(l=a).classList.add("judo-spin-container"),l.style.position="relative",l.style.width="100%",l.style.height="auto",l.style.overflow="hidden";for(var p=a.getElementsByTagName("img"),h=0;h<p.length;h++)p[h].style.width="100%";e=a,(n=document.createElement("div")).classList.add("judo-spin-wrapper"),n.style.width="fit-content",n.style.margin="0 auto",e.parentNode.insertBefore(n,e),n.appendChild(e);u.addEventListener("mousedown",function(e){return w(e)}),u.addEventListener("touchstart",function(e){return w(e)});var m,f,v,g,E,x,y,w=function(e){e.preventDefault();var t="touchstart"===e.type?"touchmove":"mousemove",n="touchstart"===e.type?k:C,e=(console.log(e.type),d=!0,L(c));c=e*s,u.addEventListener(t,n)},C=(document.addEventListener("mouseup",function(){d=!1,u.removeEventListener("mousemove",C)}),document.addEventListener("touchend",function(){d=!1,u.removeEventListener("touchmove",k)}),function(e){return b(e)}),k=function(e){return b(e)},b=function(e){d&&("right"===(e=function(e,t){var n;{var o;null!==M&&null!==S&&(N<(o=e-M)?n="right":o<-N&&(n="left"))}return M=e,S=t,n}(("touchmove"===e.type?e.touches[0]:e).clientX,("touchmove"===e.type?e.touches[0]:e).clientY))?r++:"left"===e&&r--,j(c=((c=r*s)%360+360)%360))},L=function(e){e=Math.floor(e/s);return e<0?e=i-1:i<=e&&(e=0),e},j=function(e){for(var t=Math.floor(e/s)+1,n=1;n<=i;n++)a.querySelector("img:nth-child("+n+")").style.display=n===t?"block":"none"},M=(j(c),null),S=null,N=1;function T(e){e.preventDefault(),y=!0,document.addEventListener("mousemove",z),document.addEventListener("touchmove",z)}function z(e){var t,n,o;y&&(t=m.getBoundingClientRect(),n=f.offsetWidth,o=m.offsetWidth-n,e="touchmove"===e.type?e.touches[0].clientX-t.left-n/2:e.clientX-t.left-n/2,e=Math.max(0,Math.min(o,e)),f.style.left="".concat(e,"px"),c=Math.floor(e*(360/o)),j(c=(c%360+360)%360))}function B(){y=!1,document.removeEventListener("mousemove",z),document.removeEventListener("touchmove",z)}t.enableDragHangle&&((m=document.createElement("div")).id="judo-scroller",m.style.cssText="\n    position: relative;\n    width: 100%;\n    height: 12px;\n    background-color: #f1f1f1;\n    margin: 20px auto;\n    border-radius: 10px;\n    cursor: pointer;\n    box-shadow: inset 1px 1px 3px #d7d7d7;",(f=document.createElement("div")).id="judo-draggable",f.style.cssText="\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 60px;\n    height: calc(100% + 10px);\n    background-color: #4caf50;\n    border-radius: 20px;\n    cursor: pointer;\n    transform: translateY(-5px);\n    box-shadow: 0 0 5px rgba(0, 0, 0, 0.45);\n    display: flex;\n    align-items: center;\n    justify-content: center;",(e=document.createElement("span")).textContent="|||",e.style.cssText="\n    color: #fff;\n    position: relative;\n    height: 10px;\n    line-height: 10px;\n    overflow: hidden;\n    text-shadow: 1px 0 2px #a8a8a8;",v="\n    background-color   : #fff;\n    -webkit-mask-repeat: no-repeat;\n    mask-repeat        : no-repeat;\n    position: absolute;\n    top: 50%;\n    transform: translateY(-7px);\n    width: 14px;\n    height: 14px;",(g=document.createElement("span")).textContent="",E="url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' class='icon icon-tabler icon-tabler-caret-left-filled' width='14' height='14' viewBox='0 0 24 24' stroke-width='2' stroke='currentColor' fill='none' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath stroke='none' d='M0 0h24v24H0z' fill='none'%3E%3C/path%3E%3Cpath d='M13.883 5.007l.058 -.005h.118l.058 .005l.06 .009l.052 .01l.108 .032l.067 .027l.132 .07l.09 .065l.081 .073l.083 .094l.054 .077l.054 .096l.017 .036l.027 .067l.032 .108l.01 .053l.01 .06l.004 .057l.002 .059v12c0 .852 -.986 1.297 -1.623 .783l-.084 -.076l-6 -6a1 1 0 0 1 -.083 -1.32l.083 -.094l6 -6l.094 -.083l.077 -.054l.096 -.054l.036 -.017l.067 -.027l.108 -.032l.053 -.01l.06 -.01z' stroke-width='0' fill='currentColor'%3E%3C/path%3E%3C/svg%3E\")",g.style.cssText="\n    -webkit-mask-image: ".concat(E,";\n    mask-image:").concat(E,";\n    left: 1px;\n    ").concat(v),(E=document.createElement("span")).textContent="",x="url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' class='icon icon-tabler icon-tabler-caret-right-filled' width='14' height='14' viewBox='0 0 24 24' stroke-width='2' stroke='currentColor' fill='none' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath stroke='none' d='M0 0h24v24H0z' fill='none'%3E%3C/path%3E%3Cpath d='M9 6c0 -.852 .986 -1.297 1.623 -.783l.084 .076l6 6a1 1 0 0 1 .083 1.32l-.083 .094l-6 6l-.094 .083l-.077 .054l-.096 .054l-.036 .017l-.067 .027l-.108 .032l-.053 .01l-.06 .01l-.057 .004l-.059 .002l-.059 -.002l-.058 -.005l-.06 -.009l-.052 -.01l-.108 -.032l-.067 -.027l-.132 -.07l-.09 -.065l-.081 -.073l-.083 -.094l-.054 -.077l-.054 -.096l-.017 -.036l-.027 -.067l-.032 -.108l-.01 -.053l-.01 -.06l-.004 -.057l-.002 -12.059z' stroke-width='0' fill='currentColor'%3E%3C/path%3E%3C/svg%3E\")",E.style.cssText="\n    -webkit-mask-image: ".concat(x,";\n    mask-image:").concat(x,";\n    right: 1px;\n    ").concat(v),f.appendChild(e),f.appendChild(g),f.appendChild(E),m.appendChild(f),n.appendChild(m),y=!1,f.addEventListener("mousedown",T),f.addEventListener("touchstart",T),document.addEventListener("mouseup",B),document.addEventListener("touchend",B))}var judoSpinElements=document.querySelectorAll("[data-judo-spin]");judoSpinElements.forEach(function(e){return judoSpin(e)});