/**
 * Judo Spin
 * @name        judo-spin
 * @description 360Â° degrees image spinner using JavaScript.
 * @link        https://github.com/Rodgath/judo-spin
 * @author      Rodgath, https://Rodgath.com
 * @version     v1.0.0
 * @created     July 22, 2023
 * @updated     August 04, 2023
 * @copyright   Copyright (C) 2023-2023, Rodgath
 * @license     MIT
 * @licenseMIT  https://github.com/Rodgath/judo-spin/blob/main/LICENSE
 * @demoExample https://rodgath.github.io/judo-spin/demo/
 */
"use strict";function judoSpin(e,t){t||(r=e.dataset.judoSpin)&&(t=JSON.parse(r));var n,o,r,i=function(e){e=parseInt(e,10);return isNaN(e)?1:Math.abs(e)}((t=Object.assign({},{currImg:1,images:[]},t)).currImage)-1,s=e instanceof HTMLElement||e instanceof Node?e:document.querySelector(e),a=function(){var e;e=(t.hasOwnProperty("images")&&Array.isArray(t.images)&&0<t.images.length&&t.images.forEach(function(e){var t=document.createElement("img");t.src=e.src,t.alt=e.title,s.appendChild(t)}),s.querySelectorAll("img"));return e}().length,u=360/a,d=0<i?i*u:0,c=!1,l=document.createElement("div");(o=l).className="judo-spin-overlay",o.style.position="absolute",o.style.width="100%",o.style.height="100%",o.style.top="0",o.style.left="0",o.style.zIndex="1",s.appendChild(o),o.addEventListener("mouseover",function(){return o.style.cursor="e-resize"}),o.addEventListener("mouseout",function(){return o.style.cursor="auto"}),(r=s).classList.add("judo-spin-container"),r.style.position="relative",r.style.width="100%",r.style.height="auto",r.style.overflow="hidden";for(var m=s.getElementsByTagName("img"),p=0;p<m.length;p++)m[p].style.width="100%";e=s,(n=document.createElement("div")).classList.add("judo-spin-wrapper"),n.style.width="fit-content",n.style.margin="0 auto",e.parentNode.insertBefore(n,e),n.appendChild(e);l.addEventListener("mousedown",function(e){return y(e)}),l.addEventListener("touchstart",function(e){return y(e)});var h,f,v,y=function(e){e.preventDefault();var t="touchstart"===e.type?"touchmove":"mousemove",n="touchstart"===e.type?E:g,e=(console.log(e.type),c=!0,L(d));d=e*u,l.addEventListener(t,n)},g=(document.addEventListener("mouseup",function(){c=!1,l.removeEventListener("mousemove",g)}),document.addEventListener("touchend",function(){c=!1,l.removeEventListener("touchmove",E)}),function(e){return x(e)}),E=function(e){return x(e)},x=function(e){c&&("right"===(e=function(e,t){var n;{var o;null!==b&&null!==j&&(S<(o=e-b)?n="right":o<-S&&(n="left"))}return b=e,j=t,n}(("touchmove"===e.type?e.touches[0]:e).clientX,("touchmove"===e.type?e.touches[0]:e).clientY))?i++:"left"===e&&i--,w(d=((d=i*u)%360+360)%360))},L=function(e){e=Math.floor(e/u);return e<0?e=a-1:a<=e&&(e=0),e},w=function(e){for(var t=Math.floor(e/u)+1,n=1;n<=a;n++)s.querySelector("img:nth-child("+n+")").style.display=n===t?"block":"none"},b=(w(d),null),j=null,S=1;function C(e){e.preventDefault(),v=!0,document.addEventListener("mousemove",M),document.addEventListener("touchmove",M)}function M(e){var t,n,o;v&&(t=h.getBoundingClientRect(),n=f.offsetWidth,o=h.offsetWidth-n,e="touchmove"===e.type?e.touches[0].clientX-t.left-n/2:e.clientX-t.left-n/2,e=Math.max(0,Math.min(o,e)),f.style.left="".concat(e,"px"),d=Math.floor(e*(360/o)),w(d=(d%360+360)%360))}function N(){v=!1,document.removeEventListener("mousemove",M),document.removeEventListener("touchmove",M)}(h=document.createElement("div")).id="judo-scroller",h.style.cssText="\n    position: relative;\n    width: 100%;\n    height: 12px;\n    background-color: #f1f1f1;\n    margin: 20px auto;\n    border-radius: 10px;\n    cursor: pointer;\n    box-shadow: inset 1px 1px 3px #d7d7d7;",(f=document.createElement("div")).id="judo-draggable",f.style.cssText="\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 60px;\n    height: calc(100% + 10px);\n    background-color: #4caf50;\n    border-radius: 20px;\n    cursor: pointer;\n    transform: translateY(-5px);\n    box-shadow: 0 0 5px rgba(0, 0, 0, 0.45);\n    display: flex;\n    align-items: center;\n    justify-content: center;",(e=document.createElement("span")).textContent="| | |",e.style.cssText="\n    color: #fff;\n    position: relative;\n    height: 10px;\n    line-height: 10px;\n    overflow: hidden;\n    text-shadow: 1px 0 2px #a8a8a8;",f.appendChild(e),h.appendChild(f),n.appendChild(h),v=!1,f.addEventListener("mousedown",C),f.addEventListener("touchstart",C),document.addEventListener("mouseup",N),document.addEventListener("touchend",N)}var judoSpinElements=document.querySelectorAll("[data-judo-spin]");judoSpinElements.forEach(function(e){return judoSpin(e)});