/**
 * Judo Spin
 * @name        judo-spin
 * @description 360Â° degrees image spinner using JavaScript.
 * @link        https://github.com/Rodgath/judo-spin
 * @author      Rodgath, https://Rodgath.com
 * @version     v1.0.0
 * @created     July 22, 2023
 * @updated     August 04, 2023
 * @copyright   Copyright (C) 2023-2023, Rodgath
 * @license     MIT
 * @licenseMIT  https://github.com/Rodgath/judo-spin/blob/main/LICENSE
 * @demoExample https://rodgath.github.io/judo-spin/demo/
 */
"use strict";function judoSpin(e,t){t||(r=e.dataset.judoSpin)&&(t=JSON.parse(r));var n,o,r,i=function(e){e=parseInt(e,10);return isNaN(e)?1:Math.abs(e)}((t=Object.assign({},{currImg:1,images:[]},t)).currImage)-1,u=e instanceof HTMLElement||e instanceof Node?e:document.querySelector(e),s=function(){var e;e=(t.hasOwnProperty("images")&&Array.isArray(t.images)&&0<t.images.length&&t.images.forEach(function(e){var t=document.createElement("img");t.src=e.src,t.alt=e.title,u.appendChild(t)}),u.querySelectorAll("img"));return e}().length,a=360/s,d=0<i?i*a:0,c=!1,l=document.createElement("div");(o=l).className="judo-spin-overlay",o.style.position="absolute",o.style.width="100%",o.style.height="100%",o.style.top="0",o.style.left="0",o.style.zIndex="1",u.appendChild(o),o.addEventListener("mouseover",function(){return o.style.cursor="e-resize"}),o.addEventListener("mouseout",function(){return o.style.cursor="auto"}),(r=u).classList.add("judo-spin-container"),r.style.position="relative",r.style.width="100%",r.style.height="auto",r.style.overflow="hidden";for(var m=u.getElementsByTagName("img"),h=0;h<m.length;h++)m[h].style.width="100%";e=u,(n=document.createElement("div")).classList.add("judo-spin-wrapper"),n.style.width="fit-content",n.style.margin="0 auto",e.parentNode.insertBefore(n,e),n.appendChild(e);l.addEventListener("mousedown",function(e){return y(e)}),l.addEventListener("touchstart",function(e){return y(e)});var v,f,p,y=function(e){e.preventDefault();var t="touchstart"===e.type?"touchmove":"mousemove",n="touchstart"===e.type?E:g,e=(console.log(e.type),c=!0,j(d));d=e*a,l.addEventListener(t,n)},g=(document.addEventListener("mouseup",function(){c=!1,l.removeEventListener("mousemove",g)}),document.addEventListener("touchend",function(){c=!1,l.removeEventListener("touchmove",E)}),function(e){return L(e)}),E=function(e){return L(e)},L=function(e){c&&("right"===(e=function(e,t){var n;{var o;null!==w&&null!==b&&(S<(o=e-w)?n="right":o<-S&&(n="left"))}return w=e,b=t,n}(("touchmove"===e.type?e.touches[0]:e).clientX,("touchmove"===e.type?e.touches[0]:e).clientY))?i++:"left"===e&&i--,x(d=((d=i*a)%360+360)%360))},j=function(e){e=Math.floor(e/a);return e<0?e=s-1:s<=e&&(e=0),e},x=function(e){for(var t=Math.floor(e/a)+1,n=1;n<=s;n++)u.querySelector("img:nth-child("+n+")").style.display=n===t?"block":"none"},w=(x(d),null),b=null,S=1;function M(e){e.preventDefault(),p=!0,document.addEventListener("mousemove",N),document.addEventListener("touchmove",N)}function N(e){var t,n,o;p&&(t=v.getBoundingClientRect(),n=f.offsetWidth,o=v.offsetWidth-n,e="touchmove"===e.type?e.touches[0].clientX-t.left-n/2:e.clientX-t.left-n/2,e=Math.max(0,Math.min(o,e)),f.style.left="".concat(e,"px"),d=Math.floor(e*(360/o)),x(d=(d%360+360)%360))}function C(){p=!1,document.removeEventListener("mousemove",N),document.removeEventListener("touchmove",N)}(v=document.createElement("div")).id="judo-scroller",v.style.cssText="\n    position: relative;\n    width: 100%;\n    height: 20px;\n    background-color: #f1f1f1;\n    margin: 20px auto;\n    border-radius: 10px;\n    cursor: pointer;",(f=document.createElement("div")).id="judo-draggable",f.style.cssText="position: absolute;\n    top: 0;\n    left: 0;\n    width: 60px;\n    height: 20px;\n    background-color: #4caf50;\n    border-radius: 20px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;",v.appendChild(f),n.appendChild(v),p=!1,f.addEventListener("mousedown",M),f.addEventListener("touchstart",M),document.addEventListener("mouseup",C),document.addEventListener("touchend",C)}var judoSpinElements=document.querySelectorAll("[data-judo-spin]");judoSpinElements.forEach(function(e){return judoSpin(e)});