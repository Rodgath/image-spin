"use strict";function imageSpin360(e,t){t||(r=e.dataset.imageSpin)&&(t=JSON.parse(r));var n,r,o=function(e){e=parseInt(e,10);return isNaN(e)?1:Math.abs(e)}((t=Object.assign({},{currImg:1,images:[]},t)).currImage)-1,i=e instanceof HTMLElement||e instanceof Node?e:document.querySelector(e),s=function(){var e;e=(t.hasOwnProperty("images")&&Array.isArray(t.images)&&0<t.images.length&&t.images.forEach(function(e){var t=document.createElement("img");t.src=e.src,t.alt=e.title,i.appendChild(t)}),i.querySelectorAll("img"));return e}().length,a=360/s,u=0<o?o*a:0,l=!1,c=document.createElement("div");(n=c).className="image-spin-overlay",n.style.position="absolute",n.style.width="100%",n.style.height="100%",n.style.top="0",n.style.left="0",n.style.zIndex="1",i.appendChild(n),n.addEventListener("mouseover",function(){return n.style.cursor="e-resize"}),n.addEventListener("mouseout",function(){return n.style.cursor="auto"}),(r=i).classList.add("image-spin-box-container"),r.style.position="relative",r.style.width="100%",r.style.height="auto",r.style.overflow="hidden";for(var m=i.getElementsByTagName("img"),d=0;d<m.length;d++)m[d].style.width="100%";c.addEventListener("mousedown",function(e){return h(e)}),c.addEventListener("touchstart",function(e){return h(e)});var h=function(e){e.preventDefault();var t="touchstart"===e.type?"touchmove":"mousemove",n="touchstart"===e.type?f:v,e=(console.log(e.type),l=!0,y(u));u=e*a,c.addEventListener(t,n)},v=(document.addEventListener("mouseup",function(){l=!1,c.removeEventListener("mousemove",v)}),document.addEventListener("touchend",function(){l=!1,c.removeEventListener("touchmove",f)}),function(e){return g(e)}),f=function(e){return g(e)},g=function(e){l&&("right"===(e=function(e,t){var n;{var r;null!==E&&null!==L&&(S<(r=e-E)?n="right":r<-S&&(n="left"))}return E=e,L=t,n}(("touchmove"===e.type?e.touches[0]:e).clientX,("touchmove"===e.type?e.touches[0]:e).clientY))?o++:"left"===e&&o--,p(u=((u=o*a)%360+360)%360))},y=function(e){e=Math.floor(e/a);return e<0?e=s-1:s<=e&&(e=0),e},p=function(e){for(var t=Math.floor(e/a)+1,n=1;n<=s;n++)i.querySelector("img:nth-child("+n+")").style.display=n===t?"block":"none"},E=(p(u),null),L=null,S=1}var imageSpin360Elements=document.querySelectorAll("[data-image-spin]");imageSpin360Elements.forEach(function(e){return imageSpin360(e)});